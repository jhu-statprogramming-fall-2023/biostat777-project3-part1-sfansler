usethis::use_pkgdown()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
?use_vignette
usethis::use_vignette("example-analysis", "Example Analysis")
library(survival)
life_expectancy <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-12-05/life_expectancy.csv')
life_expectancy_different_ages <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-12-05/life_expectancy_different_ages.csv')
life_expectancy_female_male <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-12-05/life_expectancy_female_male.csv')
View(life_expectancy)
View(life_expectancy_different_ages)
View(life_expectancy_female_male)
View(life_expectancy_female_male)
View(life_expectancy_female_male)
ipf_lifts <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-10-08/ipf_lifts.csv")
View(ipf_lifts)
library(tidyverse)
ipf_lists_by_name = ipf_lifts %>%
group_by(name) %>%
arrange()
View(ipf_lists_by_name)
ipf_lists_by_name = ipf_lifts %>%
group_by(name) %>%
arrange(date)
length(which(ipf_lists$name == "Hiroyuki Isagawa"))
length(which(ipf_lifts$name == "Hiroyuki Isagawa"))
which(ipf_lifts$name == "Hiroyuki Isagawa")
?arrange
str(ipf_lifts)
ipf_lifts[which(ipf_lifts$name == "Hiroyuki Isagawa"),]
getwd()
dirname(getwd())
mainDir = dirname(getwd())
subDir = "data"
if(file.exists(subDir)){
setwd(file.path(mainDir, subDir))
}else{
dir.create(file.path(mainDir, subDir))
setwd(file.path(mainDir, subDir))
}
setwd("C:\Users\samfa\OneDrive - Johns Hopkins\Year 1 Coursework\Term 2\Statistical Paradigms and Workflows\survival\vignettes")
create_dir = function(){
setwd(mainDir)
if(!file.exists(subDir)){
dir.create(subDir)
}
}
save_data = function(){
data_path = file.path("data", "tuesdata.rds")
if(!file.exists(data_path)){
data = tidytuesdayR::tt_load('2019-10-08')
saveRDS(data, data_path)
}
}
load_data = function(){
create_dir()
save_data()
data_path = file.path("data", "tuesdata.rds")
data = readRDS(data_path)
return(data)
}
load_data()
load_data()
mainDir = dirname(getwd())
subDir = "data"
create_dir = function(){
setwd(mainDir)
if(!file.exists(subDir)){
dir.create(subDir)
}
}
save_data = function(){
data_path = file.path("data", "tuesdata.rds")
if(!file.exists(data_path)){
data = tidytuesdayR::tt_load('2019-10-08')
saveRDS(data, data_path)
}
}
load_data = function(){
create_dir()
save_data()
data_path = file.path("data", "tuesdata.rds")
data = readRDS(data_path)
return(data)
}
load_data()
data = tidytuesdayR::tt_load('2019-10-08')
View(data)
saveRDS(data, data_path)
data_path = file.path("data", "tuesdata.rds")
saveRDS(data, data_path)
dir.create(subDir)
saveRDS(data, data_path)
data = readRDS(data_path)
View(data)
load_data = function(){
create_dir()
save_data()
data_path = file.path("data", "tuesdata.rds")
data = readRDS(data_path)
return(data)
}
load_data()
getwd()
mainDir = dirname(getwd())
mainDir
subDir = "data"
create_dir = function(){
setwd(mainDir)
if(!file.exists(subDir)){
dir.create(subDir)
}
}
save_data = function(){
data_path = file.path("data", "tuesdata.rds")
if(!file.exists(data_path)){
data = tidytuesdayR::tt_load('2019-10-08')
saveRDS(data, data_path)
}
}
load_data = function(){
create_dir()
save_data()
data_path = file.path("data", "tuesdata.rds")
data = readRDS(data_path)
return(data)
}
load_data()
mainDir
getwd()
ipf_lifts <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-10-08/ipf_lifts.csv")
ipf_lists_by_name = ipf_lifts %>%
group_by(name) %>%
arrange(date)
ipf_lifts[which(ipf_lifts$name == "Hiroyuki Isagawa"),]
View(ipf_lists_by_name)
ipf_lists_by_name = ipf_lifts %>%
group_by(name)
View(ipf_lists_by_name)
View(ipf_lists_by_name)
str(ipf_lists_by_name)
ipf_lists_by_name = ipf_lifts %>%
group_by(name) %>%
arrange(date, by_group = T)
ipf_lifts[which(ipf_lifts$name == "Hiroyuki Isagawa"),]
ipf_lists_by_name = ipf_lifts %>%
group_by(name) %>%
summarize(max(best3bench_kg))
View(ipf_lifts)
#Converting kgs to lbs
ipf_lifts_lbs = ipf_lifts %>%
mutate(weight_class_lb = 2.205*weight_class_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg)
str(ipf_lifts)
#Converting kgs to lbs
ipf_lifts_lbs = ipf_lifts %>%
mutate(bodyweight_lb = 2.205*bodyweight_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg)
View(ipf_lifts_lbs)
table(ipf_lifts$equipment)
#Converting kgs to lbs
ipf_lifts_lbs = ipf_lifts %>%
mutate(bodyweight_lb = 2.205*bodyweight_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg) %>%
select(name, sex, event, equipment, age, age_class, date, bodyweight_lb, squat_lb, bench_lb, deadlift_lb)
summary(ipf_lifts_lbs$bodyweight_lb)
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex = "M" & bodyweight_lb <123 & squat_lb >= 292 & bench_lb >= 235 & deadlift_lb > 346, 1, 0))
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(ipf_lifts_lbs$sex = "M" & ipf_lifts_lbs$bodyweight_lb <123 & ipf_lifts_lbs$squat_lb >= 292 & ipf_lifts_lbs$bench_lb >= 235 & ipf_lifts_lbs$deadlift_lb > 346, 1, 0))
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex == "M" & bodyweight_lb <123 & squat_lb >= 292 & bench_lb >= 235 & deadlift_lb > 346, 1, 0))
View(ipf_lifts_event)
which(ipf_lifts_event$elite == 1)
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex == "M" & bodyweight_lb <123 & squat_lb >= 292 & bench_lb >= 235 & deadlift_lb > 346, 1,
ifelse(sex == "M" & bodyweight_lb >123 & bodyweight_lb < 132 & squat_lb >= 320 & bench_lb >= 258 & deadlift_lb > 374, 1, 0)))
which(ipf_lifts_event$elite == 1)
table(ipf_lifts_event$elite)
335+240+383
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex == "M" & bodyweight_lb <114 & squat_lb+bench_lb+deadlift_lb >=958, 1,
ifelse(sex == "M" & bodyweight_lb >=114 & bodyweight_lb <123 & squat_lb+bench_lb+deadlift_lb >=1041, 1,
ifelse(sex == "M" & bodyweight_lb >=123 & bodyweight_lb <132 & squat_lb+bench_lb+deadlift_lb >=1121, 1,
ifelse(sex == "M" & bodyweight_lb >=132 & bodyweight_lb <148 & squat_lb+bench_lb+deadlift_lb >=1255, 1,
ifelse(sex == "M" & bodyweight_lb >=148 & bodyweight_lb <165 & squat_lb+bench_lb+deadlift_lb >=1374, 1,
ifelse(sex == "M" & bodyweight_lb >=165 & bodyweight_lb <181 & squat_lb+bench_lb+deadlift_lb >=1478, 1,
ifelse(sex == "M" & bodyweight_lb >=181 & bodyweight_lb <198 & squat_lb+bench_lb+deadlift_lb >=1558, 1,
ifelse(sex == "M" & bodyweight_lb >=198 & bodyweight_lb <220 & squat_lb+bench_lb+deadlift_lb >=1642, 1,
ifelse(sex == "M" & bodyweight_lb >=220 & bodyweight_lb <242 & squat_lb+bench_lb+deadlift_lb >=1701, 1,
ifelse(sex == "M" & bodyweight_lb >=242 & bodyweight_lb <275 & squat_lb+bench_lb+deadlift_lb >=1751, 1,
ifelse(sex == "M" & bodyweight_lb >=275 & bodyweight_lb <308 & squat_lb+bench_lb+deadlift_lb >=1830, 1,
ifelse(sex == "M" & bodyweight_lb >=308 & squat_lb+bench_lb+deadlift_lb >=1885, 1, 0)))))))))))))
which(ipf_lifts_event$elite == 1)
summary(ipf_lifts_lbs$bodyweight_lb)
table(ipf_lifts_event$elite)
as.numeric(ipf_lifts_event$date)
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
date_num = mutate(as.numeric(date))
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(data_num = as.numeric(date))
View(ipf_lifts_time)
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(data_num = as.numeric(date)-min(as.numeric(date)))
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(date_num = as.numeric(date)-min(as.numeric(date)))
#Now creating a
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(time = as.numeric(date)-min(as.numeric(date)))
#Converting kgs to lbs, only selecting necessary variables, only including men
ipf_lifts_lbs = ipf_lifts %>%
mutate(bodyweight_lb = 2.205*bodyweight_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg) %>%
select(name, sex, event, equipment, age, age_class, date, bodyweight_lb, squat_lb, bench_lb, deadlift_lb) %>%
filter(sex == "M")
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex == "M" & bodyweight_lb <114 & squat_lb+bench_lb+deadlift_lb >=958, 1,
ifelse(sex == "M" & bodyweight_lb >=114 & bodyweight_lb <123 & squat_lb+bench_lb+deadlift_lb >=1041, 1,
ifelse(sex == "M" & bodyweight_lb >=123 & bodyweight_lb <132 & squat_lb+bench_lb+deadlift_lb >=1121, 1,
ifelse(sex == "M" & bodyweight_lb >=132 & bodyweight_lb <148 & squat_lb+bench_lb+deadlift_lb >=1255, 1,
ifelse(sex == "M" & bodyweight_lb >=148 & bodyweight_lb <165 & squat_lb+bench_lb+deadlift_lb >=1374, 1,
ifelse(sex == "M" & bodyweight_lb >=165 & bodyweight_lb <181 & squat_lb+bench_lb+deadlift_lb >=1478, 1,
ifelse(sex == "M" & bodyweight_lb >=181 & bodyweight_lb <198 & squat_lb+bench_lb+deadlift_lb >=1558, 1,
ifelse(sex == "M" & bodyweight_lb >=198 & bodyweight_lb <220 & squat_lb+bench_lb+deadlift_lb >=1642, 1,
ifelse(sex == "M" & bodyweight_lb >=220 & bodyweight_lb <242 & squat_lb+bench_lb+deadlift_lb >=1701, 1,
ifelse(sex == "M" & bodyweight_lb >=242 & bodyweight_lb <275 & squat_lb+bench_lb+deadlift_lb >=1751, 1,
ifelse(sex == "M" & bodyweight_lb >=275 & bodyweight_lb <308 & squat_lb+bench_lb+deadlift_lb >=1830, 1,
ifelse(sex == "M" & bodyweight_lb >=308 & squat_lb+bench_lb+deadlift_lb >=1885, 1, 0)))))))))))))
table(ipf_lifts_event$elite)
#Now creating a "time" variable that measures the number of days since the first recorded competition for each player
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(time = as.numeric(date)-min(as.numeric(date)))
survival::coxph(elite ~ time, data = ipf_lifts_time)
survival::coxph(Surv(elite, time) ~ 1, data = ipf_lifts_time)
survival::coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time)
#Converting kgs to lbs, only selecting necessary variables, only including men who competed in all three events
ipf_lifts_lbs = ipf_lifts %>%
mutate(bodyweight_lb = 2.205*bodyweight_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg) %>%
select(name, sex, event, equipment, age, age_class, date, bodyweight_lb, squat_lb, bench_lb, deadlift_lb) %>%
filter(sex == "M", event = "SBD")
#Converting kgs to lbs, only selecting necessary variables, only including men who competed in all three events
ipf_lifts_lbs = ipf_lifts %>%
mutate(bodyweight_lb = 2.205*bodyweight_kg,
squat_lb = 2.205*best3squat_kg,
bench_lb = 2.205*best3bench_kg,
deadlift_lb = 2.205*best3deadlift_kg) %>%
select(name, sex, event, equipment, age, age_class, date, bodyweight_lb, squat_lb, bench_lb, deadlift_lb) %>%
filter(sex == "M", event == "SBD")
ipf_lifts_event = ipf_lifts_lbs %>%
mutate(elite = ifelse(sex == "M" & bodyweight_lb <114 & squat_lb+bench_lb+deadlift_lb >=958, 1,
ifelse(sex == "M" & bodyweight_lb >=114 & bodyweight_lb <123 & squat_lb+bench_lb+deadlift_lb >=1041, 1,
ifelse(sex == "M" & bodyweight_lb >=123 & bodyweight_lb <132 & squat_lb+bench_lb+deadlift_lb >=1121, 1,
ifelse(sex == "M" & bodyweight_lb >=132 & bodyweight_lb <148 & squat_lb+bench_lb+deadlift_lb >=1255, 1,
ifelse(sex == "M" & bodyweight_lb >=148 & bodyweight_lb <165 & squat_lb+bench_lb+deadlift_lb >=1374, 1,
ifelse(sex == "M" & bodyweight_lb >=165 & bodyweight_lb <181 & squat_lb+bench_lb+deadlift_lb >=1478, 1,
ifelse(sex == "M" & bodyweight_lb >=181 & bodyweight_lb <198 & squat_lb+bench_lb+deadlift_lb >=1558, 1,
ifelse(sex == "M" & bodyweight_lb >=198 & bodyweight_lb <220 & squat_lb+bench_lb+deadlift_lb >=1642, 1,
ifelse(sex == "M" & bodyweight_lb >=220 & bodyweight_lb <242 & squat_lb+bench_lb+deadlift_lb >=1701, 1,
ifelse(sex == "M" & bodyweight_lb >=242 & bodyweight_lb <275 & squat_lb+bench_lb+deadlift_lb >=1751, 1,
ifelse(sex == "M" & bodyweight_lb >=275 & bodyweight_lb <308 & squat_lb+bench_lb+deadlift_lb >=1830, 1,
ifelse(sex == "M" & bodyweight_lb >=308 & squat_lb+bench_lb+deadlift_lb >=1885, 1, 0)))))))))))))
table(ipf_lifts_event$elite)
#Now creating a "time" variable that measures the number of days since the first recorded competition for each player
ipf_lifts_time = ipf_lifts_event %>%
group_by(name) %>%
mutate(time = as.numeric(date)-min(as.numeric(date)))
survival::coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time)
plot(coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time))
survfit(Surv(time, elite) ~ 1, data = ipf_lifts_time)
ggsurvfit(survfit(Surv(time, elite) ~ 1, data = ipf_lifts_time))
library(ggsurvfit)
install.packages("ggsurvfit")
ggsurvfit(survfit(Surv(time, elite) ~ 1, data = ipf_lifts_time))
ggsurvfit(survfit2(Surv(time, elite) ~ 1, data = ipf_lifts_time))
library(ggsurvfit)
ggsurvfit(survfit2(Surv(time, elite) ~ 1, data = ipf_lifts_time))
ggsurvfit(survfit(Surv(time, elite) ~ 1, data = ipf_lifts_time))
summary(ipf_lifts_time$time)
14939/365
coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time
)
coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time)
summary(coxph(Surv(time, elite) ~ 1, data = ipf_lifts_time))
summary(coxph(Surv(time, elite) ~ age, data = ipf_lifts_time))
summary(coxph(Surv(time, elite) ~ age + bodyweight_lb, data = ipf_lifts_time))
